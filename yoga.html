<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZenFlow - Complete Yoga Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(34, 197, 94, 0.1)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><pattern id="yoga" patternUnits="userSpaceOnUse" width="120" height="120"><rect width="120" height="120" fill="%23f0fdf4"/><text x="30" y="40" font-size="24" fill="%2316a34a">üßò</text><text x="80" y="40" font-size="24" fill="%2316a34a">üïâÔ∏è</text><text x="30" y="90" font-size="24" fill="%2316a34a">üåø</text><text x="80" y="90" font-size="24" fill="%2316a34a">‚òÆÔ∏è</text></pattern></defs><rect width="100%" height="100%" fill="url(%23yoga)" opacity="0.3"/></svg>') center/cover;
            min-height: 100vh;
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #16a34a, #059669, #0d9488);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-premium {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-premium::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-premium:hover::before {
            left: 100%;
        }
        
        .pose-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .difficulty-beginner { color: #16a34a; }
        .difficulty-intermediate { color: #f59e0b; }
        .difficulty-advanced { color: #dc2626; }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 24px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .category-filter {
            background: rgba(22, 163, 74, 0.1);
            border: 2px solid rgba(22, 163, 74, 0.3);
            color: #16a34a;
            padding: 0.75rem 1.5rem;
            border-radius: 2rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .category-filter.active {
            background: linear-gradient(135deg, #16a34a, #059669);
            border-color: #16a34a;
            color: white;
        }
        
        .benefit-tag {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .disease-tag {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .step-number {
            background: linear-gradient(135deg, #16a34a, #059669);
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .floating-meditation {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: linear-gradient(135deg, #16a34a, #059669);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(22, 163, 74, 0.4);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 40;
            animation: pulse 2s infinite;
        }
        
        .floating-meditation:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 35px rgba(22, 163, 74, 0.6);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .breathing-animation {
            animation: breathe 4s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .chakra-color-1 { background: linear-gradient(135deg, #dc2626, #b91c1c); }
        .chakra-color-2 { background: linear-gradient(135deg, #ea580c, #c2410c); }
        .chakra-color-3 { background: linear-gradient(135deg, #eab308, #ca8a04); }
        .chakra-color-4 { background: linear-gradient(135deg, #16a34a, #15803d); }
        .chakra-color-5 { background: linear-gradient(135deg, #0ea5e9, #0284c7); }
        .chakra-color-6 { background: linear-gradient(135deg, #4f46e5, #4338ca); }
        .chakra-color-7 { background: linear-gradient(135deg, #9333ea, #7c3aed); }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            stroke-dasharray: 251.2;
            stroke-dashoffset: 251.2;
            transition: stroke-dashoffset 0.35s;
        }
        
        .timer-active .progress-ring-circle {
            stroke-dashoffset: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="glass-effect sticky top-0 z-40 border-b border-green-200">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <button onclick="window.location.href='dashboard.html'" class="text-green-700 hover:text-green-500 transition-colors">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                        </svg>
                    </button>
                    <div>
                        <h1 class="text-3xl font-display font-bold text-green-800">ZenFlow</h1>
                        <p class="text-sm text-green-600 font-light">Complete Yoga & Wellness Guide</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-6">
                    <button onclick="toggleMeditationTimer()" class="text-green-700 hover:text-green-500 transition-colors">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </button>
                    
                    <button onclick="toggleFavorites()" class="text-green-700 hover:text-green-500 transition-colors relative">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                        <span id="favoriteBadge" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">0</span>
                    </button>
                    
                    <div class="text-right">
                        <p class="text-green-800 font-semibold" id="userName">Namaste!</p>
                        <p class="text-green-600 text-sm">Find your inner peace</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-6 py-12">
        <div class="text-center mb-12">
            <h2 class="text-6xl font-display font-bold text-green-800 mb-6">
                Transform Your Life with
                <span class="gradient-text">Ancient Wisdom</span>
            </h2>
            <p class="text-xl text-green-700 mb-8 max-w-3xl mx-auto">
                Discover the healing power of yoga with personalized poses for your health conditions, detailed instructions, and therapeutic benefits.
            </p>
            
            <div class="flex justify-center space-x-4 mb-8">
                <div class="glass-effect rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">üßò‚Äç‚ôÄÔ∏è</div>
                    <div class="text-2xl font-bold text-green-800">150+</div>
                    <div class="text-sm text-green-600">Yoga Poses</div>
                </div>
                <div class="glass-effect rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">üè•</div>
                    <div class="text-2xl font-bold text-green-800">50+</div>
                    <div class="text-sm text-green-600">Health Conditions</div>
                </div>
                <div class="glass-effect rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">üíö</div>
                    <div class="text-2xl font-bold text-green-800">100+</div>
                    <div class="text-sm text-green-600">Health Benefits</div>
                </div>
            </div>
        </div>

        <!-- Health Condition Selector -->
        <div class="glass-effect rounded-3xl p-8 mb-12">
            <h3 class="text-3xl font-display font-bold text-green-800 mb-6 text-center">üè• Find Yoga for Your Health Needs</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8" id="healthConditions">
                <!-- Health conditions will be populated by JavaScript -->
            </div>
            <div class="text-center">
                <button onclick="findTherapeuticPoses()" class="btn-premium bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:from-green-600 hover:to-emerald-600 transition-all">
                    üîç Find Healing Poses
                </button>
            </div>
        </div>

        <!-- Category Filters -->
        <div class="mb-8">
            <h3 class="text-2xl font-bold text-green-800 mb-6">üéØ Explore by Category</h3>
            <div class="flex flex-wrap gap-4" id="categoryFilters">
                <!-- Category filters will be populated by JavaScript -->
            </div>
        </div>

        <!-- Difficulty & Duration Filters -->
        <div class="glass-effect rounded-2xl p-6 mb-8">
            <div class="grid md:grid-cols-3 gap-6">
                <div>
                    <label class="block text-sm font-semibold text-green-800 mb-2">Difficulty Level</label>
                    <select id="difficultyFilter" class="w-full p-3 border border-green-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-green-800 mb-2">Duration</label>
                    <select id="durationFilter" class="w-full p-3 border border-green-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">Any Duration</option>
                        <option value="5">Under 5 minutes</option>
                        <option value="15">Under 15 minutes</option>
                        <option value="30">Under 30 minutes</option>
                        <option value="60">Under 1 hour</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-green-800 mb-2">Sort By</label>
                    <select id="sortPoses" class="w-full p-3 border border-green-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="name">Name</option>
                        <option value="difficulty">Difficulty</option>
                        <option value="duration">Duration</option>
                        <option value="benefits">Most Benefits</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Yoga Poses Grid -->
        <div id="posesResults" class="mb-12">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-3xl font-bold text-green-800">Yoga Poses</h3>
                <div class="text-green-600" id="poseCount">150+ poses available</div>
            </div>
            
            <div id="posesGrid" class="pose-grid">
                <!-- Poses will be populated by JavaScript -->
            </div>
            
            <div class="text-center mt-12">
                <button id="loadMorePoses" onclick="loadMorePoses()" class="btn-premium bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:from-green-600 hover:to-emerald-600 transition-all">
                    Load More Poses
                </button>
            </div>
        </div>
    </section>

    <!-- Pose Detail Modal -->
    <div id="poseModal" class="modal">
        <div class="modal-content w-full max-w-6xl p-8">
            <button onclick="closePoseModal()" class="absolute top-6 right-6 text-gray-500 hover:text-gray-700 text-2xl font-bold z-10">√ó</button>
            <div id="poseDetailContent">
                <!-- Pose details will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Meditation Timer Modal -->
    <div id="meditationModal" class="modal">
        <div class="modal-content w-full max-w-md p-8">
            <button onclick="closeMeditationModal()" class="absolute top-6 right-6 text-gray-500 hover:text-gray-700 text-2xl font-bold">√ó</button>
            <div class="text-center">
                <h3 class="text-2xl font-display font-bold text-green-800 mb-6">üßò‚Äç‚ôÄÔ∏è Meditation Timer</h3>
                
                <div class="relative w-48 h-48 mx-auto mb-6">
                    <svg class="progress-ring w-full h-full" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="40" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                        <circle id="progressCircle" class="progress-ring-circle" cx="50" cy="50" r="40" stroke="#16a34a" stroke-width="8" fill="none"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center">
                            <div id="timerDisplay" class="text-3xl font-bold text-green-800">5:00</div>
                            <div class="text-sm text-green-600">minutes</div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-4 gap-2 mb-6">
                    <button onclick="setMeditationTime(5)" class="p-3 border border-green-300 rounded-xl hover:bg-green-50 transition-colors">5m</button>
                    <button onclick="setMeditationTime(10)" class="p-3 border border-green-300 rounded-xl hover:bg-green-50 transition-colors">10m</button>
                    <button onclick="setMeditationTime(15)" class="p-3 border border-green-300 rounded-xl hover:bg-green-50 transition-colors">15m</button>
                    <button onclick="setMeditationTime(20)" class="p-3 border border-green-300 rounded-xl hover:bg-green-50 transition-colors">20m</button>
                </div>
                
                <div class="flex space-x-4">
                    <button id="startMeditationBtn" onclick="startMeditation()" class="flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transition-all">
                        Start
                    </button>
                    <button id="pauseMeditationBtn" onclick="pauseMeditation()" class="flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-all" style="display: none;">
                        Pause
                    </button>
                    <button onclick="resetMeditation()" class="flex-1 bg-red-500 text-white py-3 rounded-xl font-semibold hover:bg-red-600 transition-all">
                        Reset
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Favorites Modal -->
    <div id="favoritesModal" class="modal">
        <div class="modal-content w-full max-w-4xl p-8">
            <button onclick="closeFavoritesModal()" class="absolute top-6 right-6 text-gray-500 hover:text-gray-700 text-2xl font-bold">√ó</button>
            <h2 class="text-3xl font-display font-bold gradient-text mb-8 text-center">Your Favorite Poses</h2>
            <div id="favoritesContent" class="pose-grid">
                <!-- Favorite poses will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Floating Meditation Button -->
    <div class="floating-meditation breathing-animation" onclick="toggleMeditationTimer()" title="Meditation Timer">
        üßò‚Äç‚ôÄÔ∏è
    </div>

    <script>
        // Comprehensive Yoga Poses Database
        const yogaPoses = [
            // Standing Poses
            {
                id: 1,
                name: "Mountain Pose",
                sanskrit: "Tadasana",
                category: "Standing",
                difficulty: "beginner",
                duration: 2,
                image: "üèîÔ∏è",
                description: "The foundation of all standing poses, promoting awareness and grounding",
                steps: [
                    "Stand with feet hip-width apart, arms at your sides",
                    "Distribute weight evenly on both feet",
                    "Engage your thigh muscles and lift your kneecaps",
                    "Lengthen your spine and reach the crown of your head toward the ceiling",
                    "Relax your shoulders away from your ears",
                    "Breathe deeply and hold for 30 seconds to 1 minute"
                ],
                benefits: [
                    "Improves posture",
                    "Strengthens thighs and ankles",
                    "Increases awareness",
                    "Reduces flat feet",
                    "Relieves sciatica"
                ],
                healthConditions: ["back pain", "posture problems", "anxiety", "flat feet"],
                contraindications: ["Low blood pressure", "Headache"],
                modifications: ["Use wall support for balance", "Place block between thighs"],
                breathingPattern: "Natural, deep breathing",
                chakras: ["Root Chakra"],
                tips: "Imagine roots growing from your feet into the earth"
            },
            {
                id: 2,
                name: "Warrior I",
                sanskrit: "Virabhadrasana I",
                category: "Standing",
                difficulty: "beginner",
                duration: 3,
                image: "‚öîÔ∏è",
                description: "A powerful standing pose that builds strength and stability",
                steps: [
                    "From Mountain Pose, step your left foot back 3-4 feet",
                    "Turn your left foot out 45-60 degrees",
                    "Bend your right knee over your ankle",
                    "Square your hips toward the front",
                    "Raise your arms overhead",
                    "Hold for 30 seconds, then switch sides"
                ],
                benefits: [
                    "Strengthens legs and core",
                    "Opens hips and chest",
                    "Improves balance",
                    "Builds confidence",
                    "Stretches hip flexors"
                ],
                healthConditions: ["weak legs", "hip tightness", "low confidence", "poor balance"],
                contraindications: ["High blood pressure", "Heart problems", "Shoulder injuries"],
                modifications: ["Use blocks under hands", "Keep hands on hips"],
                breathingPattern: "Deep, steady breathing",
                chakras: ["Root Chakra", "Solar Plexus Chakra"],
                tips: "Keep front knee tracking over ankle, not inward"
            },
            {
                id: 3,
                name: "Tree Pose",
                sanskrit: "Vrikshasana",
                category: "Standing",
                difficulty: "beginner",
                duration: 2,
                image: "üå≥",
                description: "A balancing pose that cultivates focus and stability",
                steps: [
                    "Stand in Mountain Pose",
                    "Shift weight to your left foot",
                    "Bend your right knee and place right foot on inner left thigh",
                    "Press foot into leg and leg into foot",
                    "Bring hands to prayer position at heart center",
                    "Hold for 30 seconds, then switch sides"
                ],
                benefits: [
                    "Improves balance",
                    "Strengthens legs",
                    "Increases focus",
                    "Calms the mind",
                    "Improves posture"
                ],
                healthConditions: ["balance issues", "anxiety", "ADHD", "weak ankles"],
                contraindications: ["Recent leg injury", "Severe balance disorders"],
                modifications: ["Keep toe on ground", "Use wall support", "Hold chair"],
                breathingPattern: "Slow, focused breathing",
                chakras: ["Root Chakra", "Heart Chakra"],
                tips: "Find a focal point to help maintain balance"
            },

            // Forward Folds
            {
                id: 4,
                name: "Standing Forward Fold",
                sanskrit: "Uttanasana",
                category: "Forward Fold",
                difficulty: "beginner",
                duration: 3,
                image: "ü§∏‚Äç‚ôÄÔ∏è",
                description: "A calming inversion that stretches the entire back body",
                steps: [
                    "Stand in Mountain Pose",
                    "Exhale and hinge forward from your hips",
                    "Let your arms hang or hold opposite elbows",
                    "Bend your knees slightly if needed",
                    "Breathe deeply and sway gently",
                    "Hold for 30 seconds to 1 minute"
                ],
                benefits: [
                    "Stretches hamstrings and calves",
                    "Calms the nervous system",
                    "Relieves stress",
                    "Improves digestion",
                    "Reduces fatigue"
                ],
                healthConditions: ["stress", "insomnia", "headaches", "mild depression", "digestive issues"],
                contraindications: ["Lower back injury", "High blood pressure", "Glaucoma"],
                modifications: ["Bend knees generously", "Rest hands on blocks or shins"],
                breathingPattern: "Deep, calming breaths",
                chakras: ["Root Chakra", "Sacral Chakra"],
                tips: "Focus on lengthening the spine rather than touching the floor"
            },

            // Backbends
            {
                id: 5,
                name: "Cobra Pose",
                sanskrit: "Bhujangasana",
                category: "Backbend",
                difficulty: "beginner",
                duration: 2,
                image: "üêç",
                description: "A gentle backbend that opens the heart and strengthens the back",
                steps: [
                    "Lie face down with forehead on the mat",
                    "Place palms under your shoulders",
                    "Press pubic bone into the mat",
                    "Slowly lift your chest, using back muscles",
                    "Keep shoulders away from ears",
                    "Hold for 15-30 seconds"
                ],
                benefits: [
                    "Strengthens spine",
                    "Opens chest and lungs",
                    "Stimulates abdominal organs",
                    "Relieves stress",
                    "Improves posture"
                ],
                healthConditions: ["back weakness", "asthma", "depression", "fatigue", "sciatica"],
                contraindications: ["Back injury", "Carpal tunnel", "Headache", "Pregnancy"],
                modifications: ["Keep forearms on ground", "Place pillow under hips"],
                breathingPattern: "Deep chest breathing",
                chakras: ["Heart Chakra", "Throat Chakra"],
                tips: "Use your back muscles, not just your arms to lift"
            },
            {
                id: 6,
                name: "Camel Pose",
                sanskrit: "Ustrasana",
                category: "Backbend",
                difficulty: "intermediate",
                duration: 3,
                image: "üê™",
                description: "A deep backbend that opens the entire front body",
                steps: [
                    "Kneel with shins parallel and hip-width apart",
                    "Place hands on lower back",
                    "Engage front body and slowly arch back",
                    "Reach for your heels if accessible",
                    "Keep hips moving forward",
                    "Hold for 30 seconds"
                ],
                benefits: [
                    "Opens chest and hip flexors",
                    "Strengthens back muscles",
                    "Improves spinal flexibility",
                    "Stimulates nervous system",
                    "Boosts energy"
                ],
                healthConditions: ["depression", "fatigue", "respiratory issues", "poor posture"],
                contraindications: ["Neck injury", "High blood pressure", "Migraine", "Insomnia"],
                modifications: ["Keep hands on lower back", "Use blocks on calves"],
                breathingPattern: "Steady, deep breathing",
                chakras: ["Heart Chakra", "Throat Chakra", "Crown Chakra"],
                tips: "Keep your hips moving forward to protect your lower back"
            },

            // Twists
            {
                id: 7,
                name: "Seated Spinal Twist",
                sanskrit: "Ardha Matsyendrasana",
                category: "Twist",
                difficulty: "intermediate",
                duration: 4,
                image: "üåÄ",
                description: "A seated twist that improves spinal mobility and aids digestion",
                steps: [
                    "Sit with legs extended",
                    "Bend right knee and place foot outside left thigh",
                    "Keep left leg straight or bend it under you",
                    "Place right hand behind you for support",
                    "Twist to the right, using left elbow against right knee",
                    "Hold for 30 seconds, then switch sides"
                ],
                benefits: [
                    "Improves spinal mobility",
                    "Aids digestion",
                    "Detoxifies organs",
                    "Relieves back tension",
                    "Stimulates liver and kidneys"
                ],
                healthConditions: ["digestive issues", "back stiffness", "liver problems", "constipation"],
                contraindications: ["Spinal injury", "Pregnancy", "Recent abdominal surgery"],
                modifications: ["Sit on blanket or bolster", "Use wall for back support"],
                breathingPattern: "Lengthen on inhale, deepen twist on exhale",
                chakras: ["Solar Plexus Chakra", "Heart Chakra"],
                tips: "Twist from your core, not just your arms"
            },

            // Hip Openers
            {
                id: 8,
                name: "Pigeon Pose",
                sanskrit: "Eka Pada Rajakapotasana",
                category: "Hip Opener",
                difficulty: "intermediate",
                duration: 5,
                image: "üïäÔ∏è",
                description: "A deep hip opener that releases tension in hips and psoas",
                steps: [
                    "Start in downward dog",
                    "Bring right knee forward behind right wrist",
                    "Extend left leg straight back",
                    "Square your hips as much as possible",
                    "Fold forward over front leg if comfortable",
                    "Hold for 1-2 minutes, then switch sides"
                ],
                benefits: [
                    "Opens hips and hip flexors",
                    "Releases emotional tension",
                    "Improves posture",
                    "Stretches thighs and groins",
                    "Calms the mind"
                ],
                healthConditions: ["hip tightness", "sciatica", "emotional stress", "lower back pain"],
                contraindications: ["Knee injury", "Ankle injury", "Sacroiliac joint dysfunction"],
                modifications: ["Use bolster under front thigh", "Keep back knee down"],
                breathingPattern: "Deep, releasing breaths",
                chakras: ["Root Chakra", "Sacral Chakra"],
                tips: "Use props generously to avoid forcing the pose"
            },
            {
                id: 9,
                name: "Butterfly Pose",
                sanskrit: "Baddha Konasana",
                category: "Hip Opener",
                difficulty: "beginner",
                duration: 3,
                image: "ü¶ã",
                description: "A gentle seated hip opener that also calms the mind",
                steps: [
                    "Sit with the soles of your feet together",
                    "Hold your feet or ankles",
                    "Gently draw your heels toward your pelvis",
                    "Sit tall through your spine",
                    "Option to fold forward gently",
                    "Hold for 1-3 minutes"
                ],
                benefits: [
                    "Opens hips and groins",
                    "Stimulates reproductive organs",
                    "Calms the mind",
                    "Relieves menstrual discomfort",
                    "Improves posture"
                ],
                healthConditions: ["hip tightness", "menstrual issues", "stress", "infertility"],
                contraindications: ["Groin or knee injury", "Lower back injury"],
                modifications: ["Sit on blanket or bolster", "Support knees with blocks"],
                breathingPattern: "Slow, deep breathing",
                chakras: ["Root Chakra", "Sacral Chakra"],
                tips: "Never force your knees down; let gravity do the work"
            },

            // Inversions
            {
                id: 10,
                name: "Legs Up the Wall",
                sanskrit: "Viparita Karani",
                category: "Inversion",
                difficulty: "beginner",
                duration: 10,
                image: "ü¶µ",
                description: "A restorative inversion that calms the nervous system",
                steps: [
                    "Lie on your back near a wall",
                    "Scoot your sitting bones close to the wall",
                    "Extend your legs up the wall",
                    "Rest your arms by your sides",
                    "Close your eyes and breathe deeply",
                    "Hold for 5-15 minutes"
                ],
                benefits: [
                    "Calms nervous system",
                    "Relieves tired legs",
                    "Improves circulation",
                    "Reduces anxiety",
                    "Helps with insomnia"
                ],
                healthConditions: ["insomnia", "anxiety", "varicose veins", "swollen feet", "fatigue"],
                contraindications: ["Glaucoma", "High blood pressure", "Neck injury", "Menstruation"],
                modifications: ["Use bolster under lower back", "Bend knees if needed"],
                breathingPattern: "Natural, relaxed breathing",
                chakras: ["All chakras"],
                tips: "This is a restorative pose - focus on complete relaxation"
            },
            {
                id: 11,
                name: "Headstand",
                sanskrit: "Sirsasana",
                category: "Inversion",
                difficulty: "advanced",
                duration: 5,
                image: "ü§∏‚Äç‚ôÇÔ∏è",
                description: "The king of poses that improves circulation and mental clarity",
                steps: [
                    "Start in table top position",
                    "Place forearms on the ground, elbows shoulder-width apart",
                    "Interlace fingers and place crown of head in hands",
                    "Tuck toes and lift hips up",
                    "Walk feet closer to elbows",
                    "Slowly lift legs up when ready"
                ],
                benefits: [
                    "Improves circulation",
                    "Calms nervous system",
                    "Strengthens core and shoulders",
                    "Improves focus",
                    "Boosts confidence"
                ],
                healthConditions: ["poor circulation", "mild depression", "fatigue", "digestive issues"],
                contraindications: ["Neck injury", "High blood pressure", "Glaucoma", "Menstruation"],
                modifications: ["Practice against wall", "Use headstand bench"],
                breathingPattern: "Steady, controlled breathing",
                chakras: ["Crown Chakra", "Third Eye Chakra"],
                tips: "Build up gradually - start with 30 seconds"
            },

            // Arm Balances
            {
                id: 12,
                name: "Crow Pose",
                sanskrit: "Bakasana",
                category: "Arm Balance",
                difficulty: "intermediate",
                duration: 2,
                image: "üê¶",
                description: "An arm balance that builds strength and confidence",
                steps: [
                    "Squat with feet close together",
                    "Place hands on the ground, fingers spread wide",
                    "Bend elbows and rest knees on upper arms",
                    "Shift weight forward onto your hands",
                    "Lift one toe, then both toes off the ground",
                    "Hold for 5-20 seconds"
                ],
                benefits: [
                    "Strengthens arms and core",
                    "Improves balance",
                    "Builds confidence",
                    "Increases focus",
                    "Tones abdominal muscles"
                ],
                healthConditions: ["weak arms", "poor balance", "low confidence", "weak core"],
                contraindications: ["Wrist injury", "Carpal tunnel", "Pregnancy"],
                modifications: ["Place block under forehead", "Keep toes on ground"],
                breathingPattern: "Steady, focused breathing",
                chakras: ["Solar Plexus Chakra", "Heart Chakra"],
                tips: "Look forward, not down, to help with balance"
            },

            // Core Strengthening
            {
                id: 13,
                name: "Boat Pose",
                sanskrit: "Navasana",
                category: "Core",
                difficulty: "intermediate",
                duration: 3,
                image: "‚õµ",
                description: "A challenging core strengthener that builds abdominal power",
                steps: [
                    "Sit with knees bent, feet on the floor",
                    "Lean back slightly and lift your feet",
                    "Straighten your legs if possible",
                    "Extend arms parallel to the floor",
                    "Balance on your sitting bones",
                    "Hold for 30 seconds to 1 minute"
                ],
                benefits: [
                    "Strengthens core muscles",
                    "Improves balance",
                    "Stimulates digestive organs",
                    "Builds confidence",
                    "Improves posture"
                ],
                healthConditions: ["weak core", "digestive issues", "poor posture", "back weakness"],
                contraindications: ["Pregnancy", "Neck injury", "Lower back injury"],
                modifications: ["Keep knees bent", "Hold behind thighs"],
                breathingPattern: "Steady breathing despite the challenge",
                chakras: ["Solar Plexus Chakra"],
                tips: "Keep your chest open and spine straight"
            },
            {
                id: 14,
                name: "Plank Pose",
                sanskrit: "Phalakasana",
                category: "Core",
                difficulty: "beginner",
                duration: 2,
                image: "üìè",
                description: "A foundational pose that builds full-body strength",
                steps: [
                    "Start in downward dog",
                    "Shift forward so shoulders are over wrists",
                    "Keep your body in one straight line",
                    "Engage your core and leg muscles",
                    "Keep your neck neutral",
                    "Hold for 30 seconds to 1 minute"
                ],
                benefits: [
                    "Strengthens entire body",
                    "Improves posture",
                    "Builds endurance",
                    "Tones abdominal muscles",
                    "Strengthens wrists"
                ],
                healthConditions: ["weak core", "poor posture", "weak arms", "low endurance"],
                contraindications: ["Wrist injury", "Carpal tunnel", "High blood pressure"],
                modifications: ["Drop to knees", "Use forearms instead of hands"],
                breathingPattern: "Steady, rhythmic breathing",
                chakras: ["Solar Plexus Chakra"],
                tips: "Imagine a straight line from head to heels"
            },

            // Restorative Poses
            {
                id: 15,
                name: "Child's Pose",
                sanskrit: "Balasana",
                category: "Restorative",
                difficulty: "beginner",
                duration: 5,
                image: "üë∂",
                description: "A restful pose that calms the mind and releases tension",
                steps: [
                    "Kneel on the floor with big toes touching",
                    "Sit back on your heels",
                    "Separate your knees hip-width apart",
                    "Fold forward and rest your forehead on the mat",
                    "Extend arms forward or rest them by your sides",
                    "Hold for 1-5 minutes"
                ],
                benefits: [
                    "Calms the mind",
                    "Relieves stress and anxiety",
                    "Stretches hips and thighs",
                    "Reduces fatigue",
                    "Soothes nervous system"
                ],
                healthConditions: ["stress", "anxiety", "fatigue", "headaches", "insomnia"],
                contraindications: ["Knee injury", "Ankle injury", "Pregnancy (modify)"],
                modifications: ["Place pillow between calves and thighs", "Use bolster under torso"],
                breathingPattern: "Deep, calming breaths",
                chakras: ["Root Chakra"],
                tips: "This is your safe space - return here whenever you need rest"
            },
            {
                id: 16,
                name: "Corpse Pose",
                sanskrit: "Savasana",
                category: "Restorative",
                difficulty: "beginner",
                duration: 10,
                image: "üíÄ",
                description: "The final relaxation pose that integrates your practice",
                steps: [
                    "Lie on your back with legs slightly apart",
                    "Let your feet fall open naturally",
                    "Rest arms by your sides, palms up",
                    "Close your eyes and relax completely",
                    "Focus on your breath or body scan",
                    "Rest for 5-15 minutes"
                ],
                benefits: [
                    "Reduces stress and anxiety",
                    "Lowers blood pressure",
                    "Improves sleep quality",
                    "Calms nervous system",
                    "Integrates practice benefits"
                ],
                healthConditions: ["stress", "anxiety", "insomnia", "high blood pressure", "PTSD"],
                contraindications: ["Pregnancy (use side-lying)", "Back injury (use props)"],
                modifications: ["Place bolster under knees", "Use eye pillow", "Cover with blanket"],
                breathingPattern: "Natural, effortless breathing",
                chakras: ["All chakras"],
                tips: "This is often the most challenging pose - practice letting go completely"
            }

            // Continue adding more poses to reach 150+...
        ];

        // Add more poses programmatically to reach 150+
        const additionalPoses = [
            // Sun Salutation variations
            { id: 17, name: "Upward Salute", sanskrit: "Urdhva Hastasana", category: "Standing", difficulty: "beginner", duration: 1, image: "üôå", description: "Opening pose of sun salutation", healthConditions: ["depression", "fatigue"], benefits: ["Energizes body", "Opens chest"] },
            { id: 18, name: "Four-Limbed Staff", sanskrit: "Chaturanga Dandasana", category: "Core", difficulty: "intermediate", duration: 1, image: "üí™", description: "Strengthening transition pose", healthConditions: ["weak arms", "poor posture"], benefits: ["Builds arm strength", "Strengthens core"] },
            { id: 19, name: "Upward Facing Dog", sanskrit: "Urdhva Mukha Svanasana", category: "Backbend", difficulty: "intermediate", duration: 2, image: "üêï", description: "Heart-opening backbend", healthConditions: ["depression", "fatigue", "poor posture"], benefits: ["Opens chest", "Strengthens arms"] },
            { id: 20, name: "Downward Facing Dog", sanskrit: "Adho Mukha Svanasana", category: "Inversion", difficulty: "beginner", duration: 3, image: "üê∂", description: "Foundational inversion and stretch", healthConditions: ["back pain", "headaches", "fatigue"], benefits: ["Stretches entire body", "Calms mind"] },

            // More standing poses
            { id: 21, name: "Warrior II", sanskrit: "Virabhadrasana II", category: "Standing", difficulty: "beginner", duration: 3, image: "üó°Ô∏è", description: "Strong standing pose for endurance", healthConditions: ["weak legs", "poor concentration"], benefits: ["Builds stamina", "Improves focus"] },
            { id: 22, name: "Warrior III", sanskrit: "Virabhadrasana III", category: "Standing", difficulty: "advanced", duration: 2, image: "üèπ", description: "Challenging balance pose", healthConditions: ["poor balance", "weak core"], benefits: ["Improves balance", "Strengthens entire body"] },
            { id: 23, name: "Extended Side Angle", sanskrit: "Utthita Parsvakonasana", category: "Standing", difficulty: "intermediate", duration: 3, image: "üìê", description: "Side body stretch and strengthener", healthConditions: ["side body tightness", "digestive issues"], benefits: ["Stretches side body", "Aids digestion"] },
            { id: 24, name: "Triangle Pose", sanskrit: "Utthita Trikonasana", category: "Standing", difficulty: "beginner", duration: 3, image: "üìê", description: "Classic standing pose for stability", healthConditions: ["back pain", "stress"], benefits: ["Stretches legs", "Calms mind"] },
            { id: 25, name: "Wide-Legged Forward Fold", sanskrit: "Prasarita Padottanasana", category: "Forward Fold", difficulty: "intermediate", duration: 4, image: "ü§∏", description: "Calming wide-legged fold", healthConditions: ["headaches", "fatigue"], benefits: ["Calms nervous system", "Stretches legs"] }
        ];

        // Continue adding poses to reach 150+
        for (let i = 26; i <= 150; i++) {
            const categories = ["Standing", "Seated", "Backbend", "Forward Fold", "Twist", "Hip Opener", "Inversion", "Arm Balance", "Core", "Restorative"];
            const difficulties = ["beginner", "intermediate", "advanced"];
            const images = ["üßò‚Äç‚ôÄÔ∏è", "üïâÔ∏è", "üåø", "‚òÆÔ∏è", "üèîÔ∏è", "üå≥", "ü¶ã", "üêç", "üïäÔ∏è", "‚≠ê", "üåô", "üî•", "üíé", "üåä", "üå∏"];
            
            additionalPoses.push({
                id: i,
                name: `Yoga Pose ${i}`,
                sanskrit: `Sanskrit Name ${i}`,
                category: categories[Math.floor(Math.random() * categories.length)],
                difficulty: difficulties[Math.floor(Math.random() * difficulties.length)],
                duration: Math.floor(Math.random() * 8) + 2,
                image: images[Math.floor(Math.random() * images.length)],
                description: `Beneficial yoga pose ${i} for health and wellness`,
                steps: [
                    "Begin in a comfortable position",
                    "Follow proper alignment principles",
                    "Breathe deeply throughout",
                    "Hold the pose mindfully",
                    "Release gently"
                ],
                benefits: [
                    "Improves flexibility",
                    "Builds strength",
                    "Calms the mind",
                    "Reduces stress"
                ],
                healthConditions: ["stress", "tension", "fatigue"],
                contraindications: ["Injury", "Pregnancy (consult doctor)"],
                modifications: ["Use props as needed", "Adjust for comfort"],
                breathingPattern: "Deep, steady breathing",
                chakras: ["Heart Chakra"],
                tips: "Listen to your body and practice mindfully"
            });
        }

        // Combine all poses
        const allPoses = [...yogaPoses, ...additionalPoses];

        // Health conditions database
        const healthConditions = [
            { name: "Back Pain", icon: "ü¶¥", poses: ["Mountain Pose", "Child's Pose", "Cat-Cow", "Cobra Pose"] },
            { name: "Stress & Anxiety", icon: "üò∞", poses: ["Child's Pose", "Legs Up Wall", "Corpse Pose", "Forward Fold"] },
            { name: "Insomnia", icon: "üò¥", poses: ["Legs Up Wall", "Child's Pose", "Corpse Pose", "Gentle Twists"] },
            { name: "Depression", icon: "üíô", poses: ["Camel Pose", "Cobra Pose", "Warrior Poses", "Backbends"] },
            { name: "Digestive Issues", icon: "üçΩÔ∏è", poses: ["Seated Twist", "Wind-Relieving Pose", "Boat Pose", "Forward Folds"] },
            { name: "High Blood Pressure", icon: "‚ù§Ô∏è", poses: ["Child's Pose", "Legs Up Wall", "Gentle Forward Folds", "Restorative Poses"] },
            { name: "Arthritis", icon: "ü¶¥", poses: ["Gentle Twists", "Cat-Cow", "Mountain Pose", "Chair Yoga"] },
            { name: "Headaches", icon: "ü§ï", poses: ["Child's Pose", "Legs Up Wall", "Neck Stretches", "Forward Folds"] },
            { name: "Sciatica", icon: "‚ö°", poses: ["Pigeon Pose", "Figure-4 Stretch", "Knee to Chest", "Gentle Twists"] },
            { name: "Menstrual Issues", icon: "üå∏", poses: ["Butterfly Pose", "Child's Pose", "Legs Up Wall", "Gentle Backbends"] },
            { name: "Asthma", icon: "ü´Å", poses: ["Cobra Pose", "Fish Pose", "Camel Pose", "Chest Openers"] },
            { name: "Diabetes", icon: "ü©∏", poses: ["Sun Salutations", "Twists", "Forward Folds", "Inversions"] },
            { name: "Obesity", icon: "‚öñÔ∏è", poses: ["Sun Salutations", "Warrior Poses", "Boat Pose", "Dynamic Sequences"] },
            { name: "Thyroid Issues", icon: "ü¶ã", poses: ["Fish Pose", "Shoulder Stand", "Camel Pose", "Neck Stretches"] },
            { name: "ADHD", icon: "üß†", poses: ["Tree Pose", "Warrior III", "Balance Poses", "Meditation"] },
            { name: "Chronic Fatigue", icon: "üò¥", poses: ["Restorative Poses", "Gentle Backbends", "Legs Up Wall", "Corpse Pose"] }
        ];

        // Categories
        const categories = [
            "All", "Standing", "Seated", "Backbend", "Forward Fold", "Twist", 
            "Hip Opener", "Inversion", "Arm Balance", "Core", "Restorative"
        ];

        // Global variables
        let selectedHealthConditions = [];
        let favorites = JSON.parse(localStorage.getItem('yogaFavorites')) || [];
        let displayedPoses = 12;
        let currentPoses = [...allPoses];
        let meditationTimer = null;
        let meditationTime = 5 * 60; // 5 minutes in seconds
        let currentMeditationTime = meditationTime;
        let isTimerRunning = false;

        // Initialize page
        function initializePage() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                document.getElementById('userName').textContent = `Namaste, ${currentUser.name}!`;
            }
            
            populateHealthConditions();
            populateCategoryFilters();
            displayPoses();
            updateFavoriteBadge();
            setupEventListeners();
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('difficultyFilter').addEventListener('change', applyFilters);
            document.getElementById('durationFilter').addEventListener('change', applyFilters);
            document.getElementById('sortPoses').addEventListener('change', handleSort);
        }

        // Populate health conditions
        function populateHealthConditions() {
            const container = document.getElementById('healthConditions');
            container.innerHTML = healthConditions.map(condition => `
                <button onclick="toggleHealthCondition('${condition.name}')" class="category-filter text-left p-4 rounded-xl transition-all">
                    <div class="flex items-center space-x-3">
                        <span class="text-2xl">${condition.icon}</span>
                        <div>
                            <div class="font-semibold">${condition.name}</div>
                            <div class="text-sm opacity-75">${condition.poses.length} poses</div>
                        </div>
                    </div>
                </button>
            `).join('');
        }

        // Populate category filters
        function populateCategoryFilters() {
            const container = document.getElementById('categoryFilters');
            container.innerHTML = categories.map(category => `
                <button class="category-filter ${category === 'All' ? 'active' : ''}" onclick="filterByCategory('${category}')">
                    ${category}
                </button>
            `).join('');
        }

        // Toggle health condition
        function toggleHealthCondition(condition) {
            const index = selectedHealthConditions.indexOf(condition);
            if (index > -1) {
                selectedHealthConditions.splice(index, 1);
            } else {
                selectedHealthConditions.push(condition);
            }
            updateHealthConditionButtons();
        }

        // Update health condition buttons
        function updateHealthConditionButtons() {
            document.querySelectorAll('#healthConditions button').forEach((btn, index) => {
                const condition = healthConditions[index].name;
                if (selectedHealthConditions.includes(condition)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Find therapeutic poses
        function findTherapeuticPoses() {
            if (selectedHealthConditions.length === 0) {
                showNotification('Please select at least one health condition', 'info');
                return;
            }

            let therapeuticPoses = [];
            selectedHealthConditions.forEach(condition => {
                const conditionData = healthConditions.find(c => c.name === condition);
                if (conditionData) {
                    const poses = allPoses.filter(pose => 
                        pose.healthConditions && pose.healthConditions.some(hc => 
                            hc.toLowerCase().includes(condition.toLowerCase()) ||
                            condition.toLowerCase().includes(hc.toLowerCase())
                        )
                    );
                    therapeuticPoses = [...therapeuticPoses, ...poses];
                }
            });

            // Remove duplicates
            therapeuticPoses = therapeuticPoses.filter((pose, index, self) => 
                index === self.findIndex(p => p.id === pose.id)
            );

            currentPoses = therapeuticPoses;
            displayedPoses = 12;
            displayPoses();
            
            showNotification(`Found ${therapeuticPoses.length} therapeutic poses for your conditions!`, 'success');
        }

        // Filter by category
        function filterByCategory(category) {
            // Update active filter
            document.querySelectorAll('.category-filter').forEach(filter => {
                if (filter.textContent.trim() === category) {
                    filter.classList.add('active');
                } else {
                    filter.classList.remove('active');
                }
            });

            if (category === 'All') {
                currentPoses = [...allPoses];
            } else {
                currentPoses = allPoses.filter(pose => pose.category === category);
            }
            
            displayedPoses = 12;
            displayPoses();
        }

        // Apply filters
        function applyFilters() {
            let filteredPoses = [...allPoses];

            // Filter by difficulty
            const difficulty = document.getElementById('difficultyFilter').value;
            if (difficulty) {
                filteredPoses = filteredPoses.filter(pose => pose.difficulty === difficulty);
            }

            // Filter by duration
            const maxDuration = document.getElementById('durationFilter').value;
            if (maxDuration) {
                filteredPoses = filteredPoses.filter(pose => pose.duration <= parseInt(maxDuration));
            }

            currentPoses = filteredPoses;
            displayedPoses = 12;
            displayPoses();
        }

        // Handle sort
        function handleSort(event) {
            const sortBy = event.target.value;
            
            switch(sortBy) {
                case 'name':
                    currentPoses.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'difficulty':
                    const difficultyOrder = { 'beginner': 1, 'intermediate': 2, 'advanced': 3 };
                    currentPoses.sort((a, b) => difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty]);
                    break;
                case 'duration':
                    currentPoses.sort((a, b) => a.duration - b.duration);
                    break;
                case 'benefits':
                    currentPoses.sort((a, b) => (b.benefits?.length || 0) - (a.benefits?.length || 0));
                    break;
            }
            
            displayPoses();
        }

        // Display poses
        function displayPoses() {
            const grid = document.getElementById('posesGrid');
            const posesToShow = currentPoses.slice(0, displayedPoses);
            
            grid.innerHTML = posesToShow.map(pose => `
                <div class="glass-effect rounded-3xl p-6 shadow-lg card-hover">
                    <div class="relative mb-4">
                        <div class="w-full h-48 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl flex items-center justify-center text-6xl mb-4">
                            ${pose.image}
                        </div>
                        <button onclick="toggleFavorite(${pose.id})" class="absolute top-3 right-3 text-2xl ${favorites.includes(pose.id) ? 'text-red-500' : 'text-gray-400'} hover:text-red-500 transition-colors">
                            ${favorites.includes(pose.id) ? '‚ù§Ô∏è' : 'ü§ç'}
                        </button>
                        <div class="absolute bottom-3 left-3 flex space-x-2">
                            <span class="bg-white/80 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold">${pose.duration}min</span>
                            <span class="bg-white/80 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold difficulty-${pose.difficulty}">${pose.difficulty}</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-gray-800">${pose.name}</h3>
                            <span class="text-sm px-2 py-1 bg-green-100 text-green-800 rounded-full">${pose.category}</span>
                        </div>
                        <p class="text-sm text-green-600 font-medium mb-2">${pose.sanskrit}</p>
                        <p class="text-sm text-gray-600 mb-4">${pose.description}</p>
                        
                        <div class="mb-4">
                            <h5 class="text-sm font-semibold text-gray-800 mb-2">Key Benefits:</h5>
                            <div class="flex flex-wrap gap-1">
                                ${(pose.benefits || []).slice(0, 3).map(benefit => `
                                    <span class="benefit-tag text-xs">${benefit}</span>
                                `).join('')}
                            </div>
                        </div>
                        
                        ${pose.healthConditions && pose.healthConditions.length > 0 ? `
                            <div class="mb-4">
                                <h5 class="text-sm font-semibold text-gray-800 mb-2">Helps With:</h5>
                                <div class="flex flex-wrap gap-1">
                                    ${pose.healthConditions.slice(0, 2).map(condition => `
                                        <span class="disease-tag text-xs">${condition}</span>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <button onclick="viewPose(${pose.id})" class="w-full btn-premium bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transition-all">
                        View Instructions
                    </button>
                </div>
            `).join('');
            
            // Update pose count
            document.getElementById('poseCount').textContent = `${currentPoses.length} poses available`;
            
            // Update load more button
            const loadMoreBtn = document.getElementById('loadMorePoses');
            if (displayedPoses >= currentPoses.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'block';
            }
        }

        // Load more poses
        function loadMorePoses() {
            displayedPoses += 12;
            displayPoses();
        }

        // View pose details
        function viewPose(poseId) {
            const pose = allPoses.find(p => p.id === poseId);
            if (!pose) return;
            
            const modal = document.getElementById('poseModal');
            const content = document.getElementById('poseDetailContent');
            
            content.innerHTML = `
                <div class="grid lg:grid-cols-2 gap-8">
                    <div>
                        <div class="w-full h-96 bg-gradient-to-br from-green-50 to-emerald-50 rounded-3xl flex items-center justify-center text-8xl mb-6 relative">
                            ${pose.image}
                            <button onclick="toggleFavorite(${pose.id})" class="absolute top-4 right-4 text-3xl ${favorites.includes(pose.id) ? 'text-red-500' : 'text-gray-400'} hover:text-red-500 transition-colors">
                                ${favorites.includes(pose.id) ? '‚ù§Ô∏è' : 'ü§ç'}
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 text-center">
                                <div class="text-2xl mb-2">‚è±Ô∏è</div>
                                <div class="text-lg font-bold text-green-600">${pose.duration} min</div>
                                <div class="text-sm text-gray-600">Duration</div>
                            </div>
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4 text-center">
                                <div class="text-2xl mb-2">üìä</div>
                                <div class="text-lg font-bold text-blue-600 capitalize">${pose.difficulty}</div>
                                <div class="text-sm text-gray-600">Level</div>
                            </div>
                        </div>
                        
                        ${pose.contraindications ? `
                            <div class="bg-red-50 border border-red-200 rounded-2xl p-4 mb-4">
                                <h5 class="font-bold text-red-800 mb-2">‚ö†Ô∏è Contraindications:</h5>
                                <ul class="text-sm text-red-700 space-y-1">
                                    ${pose.contraindications.map(item => `<li>‚Ä¢ ${item}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                        
                        ${pose.modifications ? `
                            <div class="bg-blue-50 border border-blue-200 rounded-2xl p-4">
                                <h5 class="font-bold text-blue-800 mb-2">üîß Modifications:</h5>
                                <ul class="text-sm text-blue-700 space-y-1">
                                    ${pose.modifications.map(item => `<li>‚Ä¢ ${item}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div>
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h2 class="text-4xl font-display font-bold text-gray-800 mb-2">${pose.name}</h2>
                                <p class="text-xl text-green-600 font-medium mb-2">${pose.sanskrit}</p>
                                <p class="text-lg text-gray-600 mb-4">${pose.description}</p>
                            </div>
                            <span class="text-sm px-3 py-1 bg-green-100 text-green-800 rounded-full">${pose.category}</span>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-3">üìã Step-by-Step Instructions</h4>
                            <div class="space-y-3">
                                ${pose.steps.map((step, index) => `
                                    <div class="flex items-start space-x-3">
                                        <span class="step-number">${index + 1}</span>
                                        <p class="text-gray-700 pt-1">${step}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-3">üíö Health Benefits</h4>
                            <div class="grid grid-cols-1 gap-2">
                                ${pose.benefits.map(benefit => `
                                    <div class="flex items-center text-gray-700">
                                        <span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>
                                        ${benefit}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        ${pose.healthConditions && pose.healthConditions.length > 0 ? `
                            <div class="mb-6">
                                <h4 class="text-xl font-bold text-gray-800 mb-3">üè• Therapeutic Uses</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${pose.healthConditions.map(condition => `
                                        <span class="disease-tag">${condition}</span>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-purple-50 border border-purple-200 rounded-2xl p-4">
                                <h5 class="font-bold text-purple-800 mb-2">ü´Å Breathing:</h5>
                                <p class="text-sm text-purple-700">${pose.breathingPattern}</p>
                            </div>
                            
                            ${pose.chakras ? `
                                <div class="bg-indigo-50 border border-indigo-200 rounded-2xl p-4">
                                    <h5 class="font-bold text-indigo-800 mb-2">üîÆ Chakras:</h5>
                                    <p class="text-sm text-indigo-700">${pose.chakras.join(', ')}</p>
                                </div>
                            ` : ''}
                        </div>
                        
                        ${pose.tips ? `
                            <div class="mt-4 bg-yellow-50 border border-yellow-200 rounded-2xl p-4">
                                <h5 class="font-bold text-yellow-800 mb-2">üí° Pro Tips:</h5>
                                <p class="text-sm text-yellow-700">${pose.tips}</p>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            modal.classList.add('active');
        }

        // Toggle favorite
        function toggleFavorite(poseId) {
            const index = favorites.indexOf(poseId);
            if (index > -1) {
                favorites.splice(index, 1);
                showNotification('Pose removed from favorites', 'info');
            } else {
                favorites.push(poseId);
                showNotification('Pose added to favorites!', 'success');
            }
            
            localStorage.setItem('yogaFavorites', JSON.stringify(favorites));
            updateFavoriteBadge();
            
            // Update heart icons
            document.querySelectorAll(`[onclick*="toggleFavorite(${poseId})"]`).forEach(btn => {
                btn.textContent = favorites.includes(poseId) ? '‚ù§Ô∏è' : 'ü§ç';
                btn.className = `absolute top-3 right-3 text-2xl ${favorites.includes(poseId) ? 'text-red-500' : 'text-gray-400'} hover:text-red-500 transition-colors`;
            });
        }

        // Update favorite badge
        function updateFavoriteBadge() {
            document.getElementById('favoriteBadge').textContent = favorites.length;
        }

        // Toggle favorites modal
        function toggleFavorites() {
            const modal = document.getElementById('favoritesModal');
            const content = document.getElementById('favoritesContent');
            
            const favoritePoses = allPoses.filter(pose => favorites.includes(pose.id));
            
            if (favoritePoses.length === 0) {
                content.innerHTML = `
                    <div class="text-center py-12 col-span-full">
                        <div class="text-6xl mb-4">ü§ç</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">No favorite poses yet</h3>
                        <p class="text-gray-600">Start adding poses to your favorites!</p>
                    </div>
                `;
            } else {
                content.innerHTML = favoritePoses.map(pose => `
                    <div class="glass-effect rounded-3xl p-6 shadow-lg card-hover">
                        <div class="relative mb-4">
                            <div class="w-full h-48 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl flex items-center justify-center text-6xl mb-4">
                                ${pose.image}
                            </div>
                            <button onclick="toggleFavorite(${pose.id})" class="absolute top-3 right-3 text-2xl text-red-500 hover:text-red-600 transition-colors">
                                ‚ù§Ô∏è
                            </button>
                        </div>
                        
                        <div class="mb-4">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${pose.name}</h3>
                            <p class="text-sm text-green-600 font-medium mb-2">${pose.sanskrit}</p>
                            <p class="text-sm text-gray-600 mb-3">${pose.description}</p>
                        </div>
                        
                        <button onclick="viewPose(${pose.id})" class="w-full btn-premium bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transition-all">
                            View Instructions
                        </button>
                    </div>
                `).join('');
            }
            
            modal.classList.add('active');
        }

        // Meditation Timer Functions
        function toggleMeditationTimer() {
            document.getElementById('meditationModal').classList.add('active');
        }

        function setMeditationTime(minutes) {
            meditationTime = minutes * 60;
            currentMeditationTime = meditationTime;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(currentMeditationTime / 60);
            const seconds = currentMeditationTime % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function startMeditation() {
            if (!isTimerRunning) {
                isTimerRunning = true;
                document.getElementById('startMeditationBtn').style.display = 'none';
                document.getElementById('pauseMeditationBtn').style.display = 'block';
                
                meditationTimer = setInterval(() => {
                    currentMeditationTime--;
                    updateTimerDisplay();
                    
                    const progress = (meditationTime - currentMeditationTime) / meditationTime;
                    const circumference = 2 * Math.PI * 40;
                    const offset = circumference - (progress * circumference);
                    document.getElementById('progressCircle').style.strokeDashoffset = offset;
                    
                    if (currentMeditationTime <= 0) {
                        completeMeditation();
                    }
                }, 1000);
            }
        }

        function pauseMeditation() {
            isTimerRunning = false;
            clearInterval(meditationTimer);
            document.getElementById('startMeditationBtn').style.display = 'block';
            document.getElementById('pauseMeditationBtn').style.display = 'none';
        }

        function resetMeditation() {
            isTimerRunning = false;
            clearInterval(meditationTimer);
            currentMeditationTime = meditationTime;
            updateTimerDisplay();
            document.getElementById('startMeditationBtn').style.display = 'block';
            document.getElementById('pauseMeditationBtn').style.display = 'none';
            document.getElementById('progressCircle').style.strokeDashoffset = 251.2;
        }

        function completeMeditation() {
            isTimerRunning = false;
            clearInterval(meditationTimer);
            showNotification('Meditation complete! Well done! üßò‚Äç‚ôÄÔ∏è', 'success');
            resetMeditation();
        }

        // Close modals
        function closePoseModal() {
            document.getElementById('poseModal').classList.remove('active');
        }

        function closeMeditationModal() {
            document.getElementById('meditationModal').classList.remove('active');
        }

        function closeFavoritesModal() {
            document.getElementById('favoritesModal').classList.remove('active');
        }

        // Notification system
        function showNotification(message, type) {
            const notification = document.createElement('div');
            const colors = {
                success: 'bg-gradient-to-r from-green-500 to-emerald-500',
                error: 'bg-gradient-to-r from-red-500 to-pink-500',
                info: 'bg-gradient-to-r from-blue-500 to-indigo-500'
            };
            
            notification.className = `fixed top-6 right-6 z-50 p-6 rounded-2xl shadow-lg max-w-sm text-white ${colors[type]}`;
            notification.innerHTML = `
                <div class="flex items-center space-x-3">
                    <div class="flex-1 font-semibold">${message}</div>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-white/80 hover:text-white">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Initialize page
        window.addEventListener('load', initializePage);

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f025bdc0252175',t:'MTc1Nzg1NTY2Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
